<!DOCTYPE html>
<html>
<head>
  <title>Ibrahim Messenger</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>

<!-- AUTH SECTION -->
<div id="authSection" class="auth-box">

  <!-- Login -->
  <div id="loginBox">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>

    <p onclick="showRegister()" class="link">Register</p>
    <p onclick="showReset()" class="link">Reset Password</p>
  </div>

  <!-- Register -->
  <div id="registerBox" style="display:none;">
    <h2>Register</h2>
    <input type="text" id="regName" placeholder="Name">
    <input type="email" id="regEmail" placeholder="Email">
    <input type="password" id="regPassword" placeholder="Password">
    <button onclick="register()">Sign Up</button>

    <p onclick="showLogin()" class="link">Back to Login</p>
  </div>

  <!-- Reset -->
  <div id="resetBox" style="display:none;">
    <h2>Reset Password</h2>
    <input type="email" id="resetEmail" placeholder="Email">
    <button onclick="resetPassword()">Send Reset Link</button>

    <p onclick="showLogin()" class="link">Back to Login</p>
  </div>

</div>

<!-- CHAT SECTION -->
<div id="chatSection" class="container" style="display:none;">

  <!-- Sidebar -->
  <div class="sidebar">
    <h3>Your Chats</h3>
    <div id="userList"></div>
    <button onclick="logout()" class="logout-btn">Logout</button>
  </div>

  <!-- Chat Area -->
  <div class="chat-area">
    <div class="chat-header" id="chatHeader">Select User</div>
    <div id="chatBox" class="chat-box"></div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type message...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

</div>

<script src="app.js"></script>

<script>
function showRegister(){
  loginBox.style.display="none";
  registerBox.style.display="block";
}
function showLogin(){
  registerBox.style.display="none";
  resetBox.style.display="none";
  loginBox.style.display="block";
}
function showReset(){
  loginBox.style.display="none";
  resetBox.style.display="block";
}
</script>

</body>
</html>
